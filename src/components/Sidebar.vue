<!-- src/components/Sidebar.vue -->
<template>
    <!--sidebar wrapper -->
		<div class="sidebar-wrapper" data-simplebar="true">
			<div class="sidebar-header">
				<div>
					<img src="assets/images/logo.jpg" class="logo-icon" alt="logo icon">
				</div>
				<div>
					<h4 class="logo-text">HOSReport</h4>
				</div>
				<div class="toggle-icon ms-auto"><i class='bx bx-first-page'></i>
				</div>
			</div>
			<!--navigation-->
			<ul class="metismenu" id="menu">
				<li>
					<a href="/">
						<div class="parent-icon"><i class='bx bx-clinic'></i>
						</div>
						<div class="menu-title">Dashboard</div>
					</a>
				</li>
				
				<!-- üî• ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏°‡∏ô‡∏π Login ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ -->
				<li v-if="!isLoggedIn">
					<a class="has-arrow" href="javascript:;">
						<div class="parent-icon"><i class='bx bx-lock-open-alt'></i>
						</div>
						<div class="menu-title">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
					</a>
					<ul>
						<li><a href="javascript:;" @click="openLoginSidebar"><i class="bx bx-lock-open"></i>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</a></li>
					</ul>
				</li>
				
				<!-- üî• ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π User ‡πÄ‡∏°‡∏∑‡πà‡∏≠ Login ‡πÅ‡∏•‡πâ‡∏ß -->
				<li v-else>
					<a class="has-arrow" href="javascript:;">
						<div class="parent-icon"><i class='bx bx-user-check'></i>
						</div>
						<div class="menu-title">{{ currentUser.name || 'User' }}</div>
					</a>
					<ul>
						<li><a href="javascript:;"><i class="bx bx-group"></i>{{ currentUser.groupname }}</a></li>
						<li><a href="javascript:;" @click="handleLogout"><i class="bx bx-log-out"></i>‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</a></li>
					</ul>
				</li>

				<li class="menu-label">HOSxP Custom Report</li>
				
				<!-- üî• ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô HA - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç @click ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô -->
				<li>
					<a href="javascript:;" class="has-arrow">
						<div class="parent-icon"><i class='bx bx-bar-chart-square'></i></div>
						<div class="menu-title">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô HA </div>
					</a>
					<ul>
						<li><a href="javascript:;" @click="navigateToReport('/report/stroke', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô HA')"><i class="bx bx-arrow-to-right"></i>Stroke I64</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/strokerefer', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô HA')"><i class="bx bx-arrow-to-right"></i>Stroke Refer</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/stemi', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô HA')"><i class="bx bx-arrow-to-right"></i>Stemi I210-I213</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/nonstemi', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô HA')"><i class="bx bx-arrow-to-right"></i>NonStemi I214</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/sepsis', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô HA')"><i class="bx bx-arrow-to-right"></i>Sepsis</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/sepsisadmit', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô HA')"><i class="bx bx-arrow-to-right"></i>Sepsis Admit</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/admit', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô HA')"><i class="bx bx-arrow-to-right"></i>Admit ‡∏£‡∏ß‡∏°</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/readmit', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô HA')"><i class="bx bx-arrow-to-right"></i>Re-Admit ‡∏£‡∏ß‡∏°</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/readmitold', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô HA')"><i class="bx bx-arrow-to-right"></i>Re-Admit ‡∏î‡πâ‡∏ß‡∏¢‡πÇ‡∏£‡∏Ñ‡πÄ‡∏î‡∏¥‡∏°</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/ipdrefer', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô HA')"><i class="bx bx-arrow-to-right"></i>IPD Refer</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/copder', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô HA')"><i class="bx bx-arrow-to-right"></i> COPD ‡∏°‡∏≤‡∏ï‡∏£‡∏ß‡∏à ER</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/headinjury', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô HA')"><i class="bx bx-arrow-to-right"></i> Head Injury Severe</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/ipddeath', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô HA')"><i class="bx bx-arrow-to-right"></i> ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï IPD</a></li>
					</ul>
				</li>
				
				<!-- üî• ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô NCDs - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç @click ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô -->
				<li>
					<a class="has-arrow" href="javascript:;">
						<div class="parent-icon"><i class='bx bx-bar-chart-alt'></i>
						</div>
						<div class="menu-title">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô NCDs </div>
					</a>
					<ul>
						<li><a href="javascript:;" @click="navigateToReport('/report/ncdpdxnull', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô NCDs')"><i class="bx bx-arrow-to-right"></i> ‡πÅ‡∏ú‡∏ô‡∏Å NCD Pdx ‡∏ß‡πà‡∏≤‡∏á </a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/clinicdm', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô NCDs')"><i class="bx bx-arrow-to-right"></i> ‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô DM </a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/clinicht', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô NCDs')"><i class="bx bx-arrow-to-right"></i> ‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô HT</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/clinicckd', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô NCDs')"><i class="bx bx-arrow-to-right"></i> ‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô CKD</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/cliniccopd', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô NCDs')"><i class="bx bx-arrow-to-right"></i> ‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô COPD </a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/clinicasthma', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô NCDs')"><i class="bx bx-arrow-to-right"></i> ‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô ASTHMA</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/newdm', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô NCDs')"><i class="bx bx-arrow-to-right"></i> DM ‡∏£‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/newht', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô NCDs')"><i class="bx bx-arrow-to-right"></i> HT ‡∏£‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/newckd', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô NCDs')"><i class="bx bx-arrow-to-right"></i> CKD ‡∏£‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/newcopd', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô NCDs')"><i class="bx bx-arrow-to-right"></i> COPD ‡∏£‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/newasthma', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô NCDs')"><i class="bx bx-arrow-to-right"></i> Asthma ‡∏£‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/influlotnull', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô NCDs')"><i class="bx bx-arrow-to-right"></i> ‡∏â‡∏µ‡∏î Vaccine Influenza</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/dmscreeneye', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô NCDs')"><i class="bx bx-arrow-to-right"></i> ‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤ DM</a></li>
					</ul>
				</li>
				
				<!-- üî• ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô PCU - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç @click ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô -->
				<li>
					<a class="has-arrow" href="javascript:;">
						<div class="parent-icon"><i class='bx bx-duplicate' ></i>
						</div>
						<div class="menu-title">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô PCU </div>
					</a>
					<ul>
						<li><a href="javascript:;" @click="navigateToReport('/report/childen', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô PCU')"><i class="bx bx-arrow-to-right"></i> ‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏≠‡∏≤‡∏¢‡∏∏ 0-5 ‡∏õ‡∏µ</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/student', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô PCU')"><i class="bx bx-arrow-to-right"></i> ‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏≠‡∏≤‡∏¢‡∏∏ 6-14 ‡∏õ‡∏µ</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/teenager', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô PCU')"><i class="bx bx-arrow-to-right"></i> ‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏≠‡∏≤‡∏¢‡∏∏ 15-21 ‡∏õ‡∏µ</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/workage', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô PCU')"><i class="bx bx-arrow-to-right"></i> ‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏≠‡∏≤‡∏¢‡∏∏ 22-59 ‡∏õ‡∏µ</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/elderly', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô PCU')"><i class="bx bx-arrow-to-right"></i> ‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ú‡∏π‡πâ‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏¢‡∏∏</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/screenpcu', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô PCU')"><i class="bx bx-arrow-to-right"></i> ‡∏Ñ‡∏±‡∏Å‡∏Å‡∏£‡∏≠‡∏á 30 - 70 ‡∏õ‡∏µ</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/screens', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô PCU')"><i class="bx bx-arrow-to-right"></i> ‡∏Ñ‡∏±‡∏Å‡∏Å‡∏£‡∏≠‡∏á 35 ‡∏õ‡∏µ ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/rapid', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô PCU')"><i class="bx bx-arrow-to-right"></i> ‡∏ï‡∏£‡∏ß‡∏à Rapid Covid-19</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/rtpcr', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô PCU')"><i class="bx bx-arrow-to-right"></i> ‡∏ï‡∏£‡∏ß‡∏à RTPCR Covid-19</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/denguefever', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô PCU')"><i class="bx bx-arrow-to-right"></i> ‡πÑ‡∏Ç‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏≠‡∏≠‡∏Å ‡∏£‡∏ß‡∏°</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/dengue', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô PCU')"><i class="bx bx-arrow-to-right"></i> ‡πÑ‡∏Ç‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏≠‡∏≠‡∏Å ‡∏ï.‡πÇ‡∏û‡∏ô‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡πå</a></li>
					</ul>
				</li>
				
				<!-- üî• ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ER - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç @click ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô -->
				<li>
					<a class="has-arrow" href="javascript:;">
						<div class="parent-icon"> <i class='bx bx-handicap'></i>
						</div>
						<div class="menu-title">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ER </div>
					</a>
					<ul>
						<li><a href="javascript:;" @click="navigateToReport('/report/pdxnuller', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ER')"><i class="bx bx-arrow-to-right"></i> ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ß‡∏¥‡∏ô‡∏¥‡∏à‡∏â‡∏±‡∏¢ Pdx ‡∏ß‡πà‡∏≤‡∏á</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/asthmaer', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ER')"><i class="bx bx-arrow-to-right"></i> ‡∏ß‡∏¥‡∏ô‡∏¥‡∏à‡∏â‡∏±‡∏¢ Asthma</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/emergencyer', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ER')"><i class="bx bx-arrow-to-right"></i> ‡∏≠‡∏∏‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏´‡∏ï‡∏∏‡∏à‡∏£‡∏≤‡∏à‡∏£ </a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/ettubeer', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ER')"><i class="bx bx-arrow-to-right"></i> ‡πÉ‡∏™‡πà ET Tube ER</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/cprer', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ER')"><i class="bx bx-arrow-to-right"></i> ‡∏´‡∏±‡∏ï‡∏ñ‡∏Å‡∏≤‡∏£ CPR </a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/castoperer', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ER')"><i class="bx bx-arrow-to-right"></i> ‡∏´‡∏±‡∏ï‡∏ñ‡∏Å‡∏≤‡∏£ ‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏ù‡∏∑‡∏≠‡∏Å</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/defiber', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ER')"><i class="bx bx-arrow-to-right"></i> Defibrillation ER</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/nber', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ER')"><i class="bx bx-arrow-to-right"></i> ‡∏´‡∏±‡∏ï‡∏ñ‡∏Å‡∏≤‡∏£‡∏û‡πà‡∏ô‡∏¢‡∏≤ ER</a></li>
					</ul>
				</li>
				
				<!-- üî• ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô IPD - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç @click ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô -->
				<li>
					<a class="has-arrow" href="javascript:;">
						<div class="parent-icon"><i class='bx bx-hotel' ></i>
						</div>
						<div class="menu-title">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô IPD </div>
					</a>
					<ul>
						<li><a href="javascript:;" @click="navigateToReport('/report/admit2hour', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô IPD')"><i class="bx bx-arrow-to-right"></i> Admit 2 hour</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/admitipd', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô IPD')"><i class="bx bx-arrow-to-right"></i> ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Admit ‡∏£‡∏ß‡∏°</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/readmit', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô IPD')"><i class="bx bx-arrow-to-right"></i>Re-Admit ‡∏£‡∏ß‡∏°</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/readmitold', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô IPD')"><i class="bx bx-arrow-to-right"></i>Re-Admit ‡∏î‡πâ‡∏ß‡∏¢‡πÇ‡∏£‡∏Ñ‡πÄ‡∏î‡∏¥‡∏°</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/admitdm', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô IPD')"><i class="bx bx-arrow-to-right"></i> Admit DM</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/readmitdm', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô IPD')"><i class="bx bx-arrow-to-right"></i> Re-Admit DM</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/admitdmhypo', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô IPD')"><i class="bx bx-arrow-to-right"></i> AdmitDM + Hypogly</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/admitdmhyper', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô IPD')"><i class="bx bx-arrow-to-right"></i> AdmitDM + Hypergly</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/admitdhf', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô IPD')"><i class="bx bx-arrow-to-right"></i> Admit DHF</a></li>
					</ul>
				</li>
				
				<!-- üî• ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç @click ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô -->
				<li>
					<a class="has-arrow" href="javascript:;">
						<div class="parent-icon"><i class="bx bx-grid-alt"></i>
						</div>
						<div class="menu-title">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û </div>
					</a>
					<ul>
						<li><a href="javascript:;" @click="navigateToReport('/report/phypttype', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û')"><i class="bx bx-arrow-to-right"></i> ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏¢‡∏Å‡∏£‡∏≤‡∏¢‡∏™‡∏¥‡∏ó‡∏ò‡∏¥</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/physicpatient', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û')"><i class="bx bx-arrow-to-right"></i> ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/physicovertime', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û')"><i class="bx bx-arrow-to-right"></i> ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</a></li>
					</ul>
				</li>
				
				<!-- üî• ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏à‡∏¥‡∏ï‡πÄ‡∏ß‡∏ä‡∏Ø - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç @click ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô -->
				<li>
					<a class="has-arrow" href="javascript:;">
						<div class="parent-icon"><i class="bx bx-donate-heart"></i>
						</div>
						<div class="menu-title">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏à‡∏¥‡∏ï‡πÄ‡∏ß‡∏ä‡∏Ø</div>
					</a>
					<ul>
						<li><a href="javascript:;" @click="navigateToReport('/report/clinicdrug', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏à‡∏¥‡∏ï‡πÄ‡∏ß‡∏ä‡∏Ø')"><i class="bx bx-arrow-to-right"></i> ‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å‡∏¢‡∏≤‡πÄ‡∏™‡∏û‡∏ï‡∏¥‡∏î</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/admitshizo', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏à‡∏¥‡∏ï‡πÄ‡∏ß‡∏ä‡∏Ø')"><i class="bx bx-arrow-to-right"></i> Admit F00-F99</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/screendrink', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏à‡∏¥‡∏ï‡πÄ‡∏ß‡∏ä‡∏Ø')"><i class="bx bx-arrow-to-right"></i> ‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà-‡∏™‡∏∏‡∏£‡∏≤</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/shizoscreen', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏à‡∏¥‡∏ï‡πÄ‡∏ß‡∏ä‡∏Ø')"><i class="bx bx-arrow-to-right"></i> ‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á Z503</a></li>
						<li><a href="javascript:;" @click="navigateToReport('/report/clinicshizo', '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏à‡∏¥‡∏ï‡πÄ‡∏ß‡∏ä‡∏Ø')"><i class="bx bx-arrow-to-right"></i> ‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏à‡∏¥‡∏ï</a></li>
						<li> <a href="shizo5.php" target="_blank"><i class="bx bx-arrow-to-right"></i>‡∏à‡∏¥‡∏ï‡πÄ‡∏ß‡∏ä‡∏£‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà </a></li>
						<li> <a href="shizo6.php" target="_blank"><i class="bx bx-arrow-to-right"></i>‡∏à‡πà‡∏≤‡∏¢‡∏¢‡∏≤ HALOPERIDOL</a></li>
						<li> <a href="shizo7.php" target="_blank"><i class="bx bx-arrow-to-right"></i>‡∏à‡πà‡∏≤‡∏¢‡∏¢‡∏≤ fluPHENAZine</a></li>
					</ul>
				</li>

				<!-- Pallaitive Care - ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° -->
				<li>
					<a class="has-arrow" href="javascript:;">
						<div class="parent-icon"><i class="bx bx-home-heart"></i>
						</div>
						<div class="menu-title">Pallaitive Care</div>
					</a>
					<ul>
						<li>
							<router-link to="/report/stroke" custom v-slot="{ navigate, href }">
								<a @click="navigate" :href="href">
									<i class="bx bx-arrow-to-right"></i>‡∏Å‡∏•‡∏∏‡πà‡∏° Stroke I64
								</a>
							</router-link> 
						</li>
						<li> 
							<router-link to="/report/pallaitiveca" custom v-slot="{ navigate, href }">
								<a @click="navigate" :href="href">
									<i class="bx bx-arrow-to-right"></i>‡∏Å‡∏•‡∏∏‡πà‡∏° CA C00 - C96
								</a>
							</router-link>
						</li>
						<li>
							<router-link to="/report/pallaitiveckd" custom v-slot="{ navigate, href }">
								<a @click="navigate" :href="href">
									<i class="bx bx-arrow-to-right"></i>‡∏Å‡∏•‡∏∏‡πà‡∏° CKD N185
								</a>
							</router-link>
						</li>
						<li> 
							<router-link to="/report/pallaitivecopd" custom v-slot="{ navigate, href }">
								<a @click="navigate" :href="href">
									<i class="bx bx-arrow-to-right"></i>‡∏Å‡∏•‡∏∏‡πà‡∏° COPD J44
								</a>
							</router-link>
						</li>
						<li>
							<router-link to="/report/pallaitiveheart" custom v-slot="{ navigate, href }">
								<a @click="navigate" :href="href">
									<i class="bx bx-arrow-to-right"></i>‡∏Å‡∏•‡∏∏‡πà‡∏° Heart Failure 
								</a>
							</router-link>
						</li>
						<li>
							<router-link to="/report/telemed" custom v-slot="{ navigate, href }">
								<a @click="navigate" :href="href">
									<i class="bx bx-arrow-to-right"></i>‡∏Å‡∏•‡∏∏‡πà‡∏° Telemed
								</a>
							</router-link>
						</li>
					</ul>
				</li>

				<li class="menu-label">HOSxP Custom Report </li>
				<!-- ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô - ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° -->
				<li>
					<a class="has-arrow" href="javascript:;">
						<div class="parent-icon"><i class="bx bx-bitcoin"></i>
						</div>
						<div class="menu-title">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô</div>
					</a>
					<ul>
						<li> <a href="http://192.168.88.6/webaccount/" target="bank"><i class="bx bx-arrow-to-right"></i>Webaccount</a>
						</li>
						<li> 
							<router-link to="/report/pttypesum" custom v-slot="{ navigate, href }">
								<a @click="navigate" :href="href">
									<i class="bx bx-arrow-to-right"></i> ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥
								</a>
							</router-link>
						</li>
						<li>
							<router-link to="/report/financenull" custom v-slot="{ navigate, href }">
								<a @click="navigate" :href="href">
									<i class="bx bx-arrow-to-right"></i> ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏õ‡∏¥‡∏î‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥
								</a>
							</router-link>
						</li>
					</ul>
				</li>
				
				<!-- ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô OPD - ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° -->
				<li>
					<a class="has-arrow" href="javascript:;">
						<div class="parent-icon"><i class='bx bx-map-pin' ></i>
						</div>
						<div class="menu-title">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô OPD </div>
					</a>
					<ul>
						<li> 
							<router-link to="/report/strokesmoking" custom v-slot="{ navigate, href }">
								<a @click="navigate" :href="href">
									<i class="bx bx-arrow-to-right"></i> STROKE ‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà 
								</a>
							</router-link>
						</li>
						<li>
							<router-link to="/report/labcovid" custom v-slot="{ navigate, href }">
								<a @click="navigate" :href="href">
									<i class="bx bx-arrow-to-right"></i> LAB COVID-19
								</a>
							</router-link>
						</li>
					</ul>
				</li>

				<!-- ‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÅ‡∏ú‡∏ô‡πÑ‡∏ó‡∏¢ - ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° -->
				<li>
					<a class="has-arrow" href="javascript:;">
						<div class="parent-icon"><i class="bx bx-walk"></i>
						</div>
						<div class="menu-title">‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÅ‡∏ú‡∏ô‡πÑ‡∏ó‡∏¢ </div>
					</a>
					<ul>
						<li>
							<router-link to="/report/pltpatient" custom v-slot="{ navigate, href }">
								<a @click="navigate" :href="href">
									<i class="bx bx-arrow-to-right"></i> ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
								</a>
							</router-link> 
						</li>
					</ul>
				</li>
				<li>
					<a href="#" target="_blank">
						<div class="parent-icon"><i class='bx bx-phone-call' ></i>
						</div>
						<div class="menu-title">Admin Support</div>
					</a>
				</li>
			</ul>
			<!--end navigation-->
		</div>
		<!--end sidebar wrapper -->
		
		<!-- üî• ‡πÄ‡∏û‡∏¥‡πà‡∏° LoginSidebar Component -->
		<LoginSidebar 
			:isVisible="showLoginSidebar" 
			:requestedRoute="requestedRoute"
			@close="closeLoginSidebar" 
			@login-success="handleLoginSuccess" 
		/>
</template>
  
<script>
import LoginSidebar from './LoginSidebar.vue'

export default {
	name: "AppSidebar",
	components: {
		LoginSidebar
	},
	data() {
		return {
			showLoginSidebar: false,
			requestedRoute: '',
			isLoggedIn: false,
			currentUser: {
				name: '',
				groupname: '',
				entryposition: ''
			}
		}
	},
	mounted() {
		// ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ login
		this.checkAuthStatus()
		
		// ‡∏ü‡∏±‡∏á events
		window.addEventListener('open-login-sidebar', this.openLoginSidebar)
		window.addEventListener('auth-status-changed', this.checkAuthStatus)
		
		this.$nextTick(() => {
			// ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô MetisMenu ‡πÄ‡∏°‡∏∑‡πà‡∏≠ DOM ‡πÄ‡∏£‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÄ‡∏™‡∏£‡πá‡∏à
			if (window.$ && window.$.fn.metisMenu) {
				$("#menu").metisMenu();
			} else {
				console.error("MetisMenu is not available");
			}
		});
	},
	beforeUnmount() {
		// ‡∏•‡∏ö event listeners
		window.removeEventListener('open-login-sidebar', this.openLoginSidebar)
		window.removeEventListener('auth-status-changed', this.checkAuthStatus)
	},
	methods: {
		// ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£ login
		async checkAuthStatus() {
			try {
				const { authService } = await import('../services/authService.js')
				
				this.isLoggedIn = authService.isAuthenticated()
				
				if (this.isLoggedIn) {
					const user = authService.getUser()
					this.currentUser = {
						name: user.name || '',
						groupname: user.groupname || '',
						entryposition: user.entryposition || ''
					}
					console.log('‚úÖ Sidebar - User logged in:', this.currentUser.name)
				} else {
					this.currentUser = { name: '', groupname: '', entryposition: '' }
					console.log('‚ùå Sidebar - No user logged in')
				}
			} catch (error) {
				console.error('Error checking auth status:', error)
			}
		},
		
		// ‡πÄ‡∏õ‡∏¥‡∏î Login Sidebar
		openLoginSidebar() {
			console.log('üîì Opening login sidebar')
			this.showLoginSidebar = true
		},
		
		// ‡∏õ‡∏¥‡∏î Login Sidebar
		closeLoginSidebar() {
			this.showLoginSidebar = false
			this.requestedRoute = ''
		},
		
		// ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡πÑ‡∏õ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
		async navigateToReport(route, reportType) {
			console.log(`üîç Navigating to: ${route} (${reportType})`)
			
			try {
				const { authService } = await import('../services/authService.js')
				
				if (!authService.isAuthenticated()) {
					// ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà login ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏¥‡∏î login sidebar
					console.log('‚ùå Not logged in, opening login sidebar')
					this.requestedRoute = route
					this.openLoginSidebar()
					return
				}
				
				// ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå
				if (!authService.canAccessReport(reportType)) {
					alert(`‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏î‡∏π ${reportType}\n‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: ${authService.getUserGroup()}`)
					return
				}
				
				// ‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡πÑ‡∏õ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
				console.log('‚úÖ Access granted, navigating to:', route)
				this.$router.push(route)
				
			} catch (error) {
				console.error('Error in navigation:', error)
				alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå')
			}
		},
		
		// ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡πà‡∏≠ login ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
		handleLoginSuccess(data) {
			console.log('üéâ Login success received:', data)
			
			this.checkAuthStatus() // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
			
			// ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ requested route ‡πÉ‡∏´‡πâ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏±‡πâ‡∏ô
			if (data.requestedRoute) {
				console.log('üìç Redirecting to requested route:', data.requestedRoute)
				this.$router.push(data.requestedRoute)
			}
			
			this.closeLoginSidebar()
		},
		
		// ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
		async handleLogout() {
			if (confirm('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
				try {
					const { authService } = await import('../services/authService.js')
					authService.logout()
					this.checkAuthStatus()
					
					// ‡∏™‡πà‡∏á event ‡πÅ‡∏à‡πâ‡∏á‡πÉ‡∏´‡πâ component ‡∏≠‡∏∑‡πà‡∏ô‡∏£‡∏π‡πâ
					window.dispatchEvent(new CustomEvent('auth-status-changed'))
					
					this.$router.push('/') // ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ dashboard
					alert('‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß')
				} catch (error) {
					console.error('Logout error:', error)
				}
			}
		}
	},
	updated() {
		this.$nextTick(() => {
			// ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó MetisMenu ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏≠‡∏°‡πÇ‡∏û‡πÄ‡∏ô‡∏ô‡∏ï‡πå‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á
			if (window.$ && window.$.fn.metisMenu) {
				$("#menu").metisMenu();
			}
		});
	},
	watch: {
		// ‡πÄ‡∏°‡∏∑‡πà‡∏≠ route ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó MetisMenu
		$route() {
			this.$nextTick(() => {
				if (window.$ && window.$.fn.metisMenu) {
					$("#menu").metisMenu();
				}
			});
		}
	}
}
</script>